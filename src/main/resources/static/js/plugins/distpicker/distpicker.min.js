/*!
 * Distpicker v1.0.4
 * https://github.com/fengyuanchen/distpicker
 *
 * Copyright (c) 2014-2016 Fengyuan Chen
 * Released under the MIT license
 *
 * Date: 2016-06-01T15:05:52.606Z
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","ChineseDistricts"],a)}else{if(typeof exports==="object"){a(require("jquery"),require("ChineseDistricts"))}else{a(jQuery,ChineseDistricts)}}})(function(f,d){if(typeof d==="undefined"){throw new Error('The file "distpicker.data.js" must be included first!')}var a="distpicker";var c="change."+a;var e="province";var h="city";var b="district";function g(j,i){this.$element=f(j);this.options=f.extend({},g.DEFAULTS,f.isPlainObject(i)&&i);this.placeholders=f.extend({},g.DEFAULTS);this.active=false;this.init()}g.prototype={constructor:g,init:function(){var j=this.options;var i=this.$element.find("select");var k=i.length;var l={};i.each(function(){f.extend(l,f(this).data())});f.each([e,h,b],f.proxy(function(m,n){if(l[n]){j[n]=l[n];this["$"+n]=i.filter("[data-"+n+"]")}else{this["$"+n]=k>m?i.eq(m):null}},this));this.bind();this.reset();this.active=true},bind:function(){if(this.$province){this.$province.on(c,(this._changeProvince=f.proxy(function(){this.output(h);this.output(b)},this)))}if(this.$city){this.$city.on(c,(this._changeCity=f.proxy(function(){this.output(b)},this)))}},unbind:function(){if(this.$province){this.$province.off(c,this._changeProvince)}if(this.$city){this.$city.off(c,this._changeCity)}},output:function(n){var q=this.options;var o=this.placeholders;var l=this["$"+n];var k={};var m=[];var i;var j;var p;if(!l||!l.length){return}p=q[n];i=(n===e?86:n===h?this.$province&&this.$province.find(":selected").data("code"):n===b?this.$city&&this.$city.find(":selected").data("code"):i);k=f.isNumeric(i)?d[i]:null;if(f.isPlainObject(k)){f.each(k,function(t,r){var s=r===p;if(s){j=true}m.push({code:t,address:r,selected:s})})}if(!j){if(m.length&&(q.autoSelect||q.autoselect)){m[0].selected=true}if(!this.active&&p){o[n]=p}}if(q.placeholder){m.unshift({code:"",address:o[n],selected:false})}l.html(this.getList(m))},getList:function(j){var i=[];f.each(j,function(k,l){i.push("<option"+' value="'+(l.address&&l.code?l.address:"")+'"'+' data-code="'+(l.code||"")+'"'+(l.selected?" selected":"")+">"+(l.address||"")+"</option>")});return i.join("")},reset:function(i){if(!i){this.output(e);this.output(h);this.output(b)}else{if(this.$province){this.$province.find(":first").prop("selected",true).trigger(c)}}},destroy:function(){this.unbind();this.$element.removeData(a)}};g.DEFAULTS={autoSelect:false,placeholder:true,province:"选择地区",city:"选择地区",district:"选择地区"};g.setDefaults=function(i){f.extend(g.DEFAULTS,i)};g.other=f.fn.distpicker;f.fn.distpicker=function(j){var i=[].slice.call(arguments,1);return this.each(function(){var n=f(this);var m=n.data(a);var k;var l;if(!m){if(/destroy/.test(j)){return}k=f.extend({},n.data(),f.isPlainObject(j)&&j);n.data(a,(m=new g(this,k)))}if(typeof j==="string"&&f.isFunction(l=m[j])){l.apply(m,i)}})};f.fn.distpicker.Constructor=g;f.fn.distpicker.setDefaults=g.setDefaults;f.fn.distpicker.noConflict=function(){f.fn.distpicker=g.other;return this};f(function(){f('[data-toggle="distpicker"]').distpicker()})});